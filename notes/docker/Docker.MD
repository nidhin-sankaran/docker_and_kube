# ğŸ³ Docker â€“ Simple & Practical Notes

---

## â“ Why Docker?

Docker makes it **easy to install and run software** without worrying about:
- OS differences
- Library versions
- Dependency conflicts

ğŸ‘‰ â€œIt works on my machineâ€ problems mostly disappear.

---

## ğŸ§  What is Docker?

Docker is a **platform (ecosystem)** for:
- Creating
- Running
- Managing **containers**

### Key Ideas
- **Image** â†’ Blueprint / Template
- **Container** â†’ Running instance of an image
- A container is a **program with its own isolated environment**

---

## ğŸ§© How Docker Works (High Level)

```mermaid
flowchart LR
    User[You run docker command] --> CLI[Docker CLI]
    CLI --> Daemon[Docker Daemon]
    Daemon --> Hub[Docker Hub]
    Hub --> Image[Docker Image]
    Image --> Container[Running Container]
```

- Docker CLI talks to **Docker Daemon**
- Daemon pulls images from **Docker Hub**
- Image is instantiated as a **Container**

---

## ğŸ§ª What Problem Does Docker Solve?

### Scenario:
You want to run **two apps**
- App A needs **Python 2**
- App B needs **Python 3**

Without Docker â†’ âŒ conflicts  
With Docker â†’ âœ… each app runs in its **own container**

---

## ğŸ§± Linux Concepts Behind Docker

Docker uses Linux kernel features:

### 1. Namespaces
- Isolate processes
- Each container feels like it has its own OS

### 2. Control Groups (cgroups)
- Limit CPU, memory, disk usage

ğŸ‘‰ Docker Desktop installs a **Linux VM**, because these features are Linux-specific.

---

## ğŸ“¦ Docker = Create + Start

```text
docker run = docker create + docker start
```

```mermaid
flowchart TD
    Image --> Create[Docker Create]
    Create --> Start[Docker Start]
    Start --> Container[Running Container]
```

- **Create** â†’ prepares container (filesystem, configs)
- **Start** â†’ runs the startup command

---

## ğŸ”§ Common Docker Commands

### Installation & Info
```bash
brew install --cask docker
docker --version
docker login
```

### Running Containers
```bash
docker run <image_name>
docker run <image_name> <command>
```

### Container Management

| Command | Purpose |
|------|-------|
| docker ps | List running containers |
| docker ps --all | List all containers |
| docker start <container> | Start stopped container |
| docker stop <id> | Graceful stop |
| docker kill <id> | Force stop |
| docker logs <id> | View logs |
| docker system prune | Remove unused data |

---

## ğŸ”‘ Execute Commands Inside Containers

```bash
docker exec -it <container_name> <command>
```

- `-i` â†’ interactive input
- `-t` â†’ terminal output

### Open shell inside container
```bash
docker exec -it <container_name> sh
```

---

## ğŸ—ï¸ Creating a Docker Image

```mermaid
flowchart LR
    Base[Base Image] --> Install[Install Dependencies]
    Install --> CMD[Startup Command]
    CMD --> Image[Final Docker Image]
```

### Dockerfile Example

```Dockerfile
FROM alpine
RUN apk add --update redis
CMD ["redis-server"]
```

- `FROM` â†’ base image
- `RUN` â†’ commands during build
- `CMD` â†’ command at container startup

---

## ğŸ”¨ docker build Explained

```bash
docker build .
```

What happens:
1. Reads Dockerfile
2. Executes instructions step-by-step
3. Creates intermediate containers
4. Produces final image

### Intermediate Containers
- Temporary
- Used to build image layers
- Enable caching

---

## âš¡ Docker Build Cache

- Docker caches each build step
- If a step doesn't change â†’ reused
- Faster rebuilds

Only changed steps are rebuilt.

---

## ğŸ·ï¸ Tagging Images

```bash
docker build -t <docker_id>/<project_name>:latest .
```

Used for:
- Versioning
- Pushing to Docker Hub

---

## ğŸ” Container â†’ Image

You can:
1. Run a container
2. Modify it
3. Save it as an image

Useful for experiments and debugging.

---

## ğŸ§  Quick Recall

- Image â†’ Recipe
- Container â†’ Running dish
- Dockerfile â†’ Instructions
- Docker Hub â†’ Image store
- docker run â†’ create + start

---

âœ… End of Notes
